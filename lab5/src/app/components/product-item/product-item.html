<div class="product-card" [class.liked]="product.likes > 0">
  <div class="product-badges">
    <span class="badge top" *ngIf="product.rating >= 4.8">üî• TOP</span>
    <span class="badge new">NEW</span>
  </div>
  
  <div class="product-actions">
    <button class="action-btn like-btn" (click)="onLike()" [class.active]="product.likes > 0">
      <span class="heart">‚ù§</span>
      <span class="likes-count">{{ product.likes }}</span>
    </button>

    <button class="action-btn delete-btn" (click)="onDelete()" title="–£–¥–∞–ª–∏—Ç—å">
      <span class="trash">üóëÔ∏è</span>
    </button>
  </div>

  <a [href]="product.link" target="_blank" class="product-link">
    <div class="image-container">
      <img [src]="product.images[0]" [alt]="product.name" (error)="onImageError($event)">
      <div class="image-overlay">
        <span class="view-details">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å</span>
      </div>
    </div>
    
    <h3 class="product-title">{{ product.name }}</h3>
  </a>

  <div class="product-info">
    <p class="product-description">{{ product.description | slice:0:80 }}...</p>

    <div class="product-rating">
      <div class="stars">
        <span class="star" *ngFor="let star of [1,2,3,4,5]" 
              [class.filled]="star <= Math.floor(product.rating)">
          ‚òÖ
        </span>
      </div>
      <span class="rating-value">{{ product.rating }}</span>
    </div>

    <div class="product-price">
      <span class="current-price">{{ product.price | number }} ‚Ç∏</span>
      <span class="old-price">{{ (product.price * 1.2) | number }} ‚Ç∏</span>
      <span class="discount">-20%</span>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ Wishlist –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–¥–µ—Å—å -->
    <div class="product-footer">
      <app-wishlist-button [product]="product"></app-wishlist-button>
      
      <details class="share-dropdown">
        <summary class="share-btn">
          <span class="share-icon">üì§</span>
          –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
        </summary>
        <div class="share-content">
          <a [href]="'https://wa.me/?text=' + encodeURIComponent(product.link)" 
             target="_blank" class="share-option whatsapp">
            <span class="share-icon">üì±</span>
            WhatsApp
          </a>
          <a [href]="'https://t.me/share/url?url=' + encodeURIComponent(product.link)" 
             target="_blank" class="share-option telegram">
            <span class="share-icon">‚úàÔ∏è</span>
            Telegram
          </a>
        </div>
      </details>
    </div>
  </div>
</div>